<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AccountOverview/AccountOverviewComponent.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AccountOverview/AccountOverviewComponent.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable react/button-has-type */
/* eslint-disable consistent-return */
/* eslint-disable array-callback-return */
/* eslint-disable react/jsx-filename-extension */
/* eslint-disable react/prop-types */
/* eslint-disable react/no-access-state-in-setstate */
/* eslint-disable react/destructuring-assignment */
import React, { Component } from "react";
import {
  Navbar,
  NavbarBrand,
  Nav,
  NavItem,
  NavbarToggler,
  Collapse,
  UncontrolledDropdown,
  DropdownToggle,
  DropdownMenu,
  DropdownItem,
  Button,
} from "reactstrap";
import { NavLink, Link, Redirect, Switch, Route } from "react-router-dom";
import FreePlan from "./FreePlan";
import PremiumPlan from "./PremiumPlan";
import FreeJumbotron from "./FreeJumbotron";
import PremiumJumbotron from "./PremiumJumbotron";
import ChangePass from "./ChangePassword";
import EditProfile from "./EditProfile";
import { baseUrl2 } from "../../shared/baseUrl";

/**
 * Account Overview page
 */
class AccountOverview extends Component {
  /**
   *
   * @param {Object} props
   * @param props.data Essentially contains the data of the users in the database
   * @param props.id Essentially contains the id of one of the users in the database
   * @param props.handleLogoutId Essentially taks an id (should be an empty string) and replaces the current user id with it
   * @param props.PostPassword Essentially passed to ChangePass component, and is used to set a password
   * @param props.GetPassword Essentially passed to ChangePass component, and is used to get a password
   * @param props.resetChangePasswordForm Essentially passed to ChangePass component.
   * @param props.reseteditprofile Essentially passed to EditProfile component.
   * @param props.postupdatedFeedback Essentially passed to EditProfile component, and is used to post edited data
   * @param props.data_be Essentially contains the data of the users in the database after integrating with backend
   * @param props.handleLogout_BE Essentially used to remove user id along with his other data instead of handleLogoutId
   * @param props.isSignedIn Essentially used to check if a user is signed in or not
   */
  constructor(props) {
    super(props);
    this.state = {
      isNavOpen: false,
      tempId: this.props.data_be.data_be._id,
      Premium: this.props.data_be.data_be.premium,
    };
    this.state.toggleNav = this.toggleNav.bind(this);
    this.state.nullID = this.nullID.bind(this);
    this.state.handleLogout = this.handleLogout.bind(this);
  }

  /**
   * Toggles the Navigation bar by switching isNavOpen from true to false and vice versa
   */
  toggleNav() {
    this.setState({
      isNavOpen: !this.state.isNavOpen,
    });
  }

  /**
   * Setting tempId to an empty string, used for testing if the user tries
   *  to enter the page without an ID,
   * he will be redirected to another page
   */
  nullID() {
    this.setState({
      tempId: "",
    });
  }

  /**
   * calls handleLogout_BE function to sign the user out
   */
  handleLogout() {
    // let id = "";
    this.props.handleLogout_BE();
    // this.props.handleLogout_BE();
  }
  /**
   * Responsible for showing everything on the Account Overview page
   * @returns Components that will be displayed on the page
   */
  render() {
    let overviewActive = "";
    let editProfileActive = "";
    let changePasswordActive = "";
    let recoverPlaylistsActive = "";
    let redeemActive = "";
    let currentURL = window.location.href;
    if (currentURL === baseUrl2 + "account/overview") {
      overviewActive = "active";
      editProfileActive = "";
      changePasswordActive = "";
      recoverPlaylistsActive = "";
      redeemActive = "";
    } else if (currentURL === baseUrl2 + "account/changepassword") {
      overviewActive = "";
      editProfileActive = "";
      changePasswordActive = "active";
      recoverPlaylistsActive = "";
      redeemActive = "";
    }

    let redirect = "";
    if (this.props.isSignedIn.isSignedIn === null) {
      redirect = &lt;Redirect to="/signup" />;
    }

    // const UserData = this.props.data.data.map((data) => {
    //   if (data.id === this.state.tempId) {
    //     return (
    //       &lt;div key={data.id}>
    //         &lt;div className="row">
    //           &lt;div className="col Content1">
    //             &lt;h5>Username&lt;/h5>
    //           &lt;/div>
    //           &lt;div className="col Content2">
    //             &lt;h5>
    //               {' '}
    //               {data.name}
    //               {' '}
    //             &lt;/h5>
    //           &lt;/div>
    //         &lt;/div>
    //         &lt;hr />
    //         &lt;div className="row">
    //           &lt;div className="col Content1">
    //             &lt;h5>Email&lt;/h5>
    //           &lt;/div>
    //           &lt;div className="col Content2">
    //             &lt;h5>{data.email}&lt;/h5>
    //           &lt;/div>
    //         &lt;/div>
    //         &lt;hr />
    //         &lt;div className="row">
    //           &lt;div className="col Content1">
    //             &lt;h5>Date of birth&lt;/h5>
    //           &lt;/div>
    //           &lt;div className="col Content2">
    //             &lt;h5>
    //               {data.day}
    //               /
    //               {data.month}
    //               /
    //               {data.year}
    //             &lt;/h5>
    //           &lt;/div>
    //         &lt;/div>
    //         &lt;hr />
    //       &lt;/div>
    //     );
    //   }
    // });

    let UserData = (
      &lt;div>
        &lt;div className="row">
          &lt;div className="col Content1">
            &lt;h5>Username&lt;/h5>
          &lt;/div>
          &lt;div className="col Content2">
            &lt;h5> {this.props.data_be.data_be.name} &lt;/h5>
          &lt;/div>
        &lt;/div>
        &lt;hr />
        &lt;div className="row">
          &lt;div className="col Content1">
            &lt;h5>Email&lt;/h5>
          &lt;/div>
          &lt;div className="col Content2">
            &lt;h5>{this.props.data_be.data_be.email}&lt;/h5>
          &lt;/div>
        &lt;/div>
        &lt;hr />
        &lt;div className="row">
          &lt;div className="col Content1">
            &lt;h5>Age&lt;/h5>
          &lt;/div>
          &lt;div className="col Content2">
            &lt;h5>{this.props.data_be.data_be.age}&lt;/h5>
          &lt;/div>
        &lt;/div>
        &lt;hr />
      &lt;/div>
    );

    // const showJumbotron = this.props.data.data.map(data => {
    //   if (data.id === this.state.tempId) {
    //     if (data.premium === false) {
    //       return &lt;FreeJumbotron />;
    //     }
    //     return &lt;PremiumJumbotron />;
    //   }
    // });

    let showJumbotron = "";
    if (this.state.Premium === false) {
      showJumbotron = &lt;FreeJumbotron />;
    } else {
      showJumbotron = &lt;PremiumJumbotron />;
    }

    // const showPlan = this.props.data.data.map(data => {
    //   if (data.id === this.state.tempId) {
    //     if (data.premium === false) {
    //       return &lt;FreePlan />;
    //     }
    //     return &lt;PremiumPlan />;
    //   }
    // });

    let showPlan = "";
    if (this.state.Premium === false) {
      showPlan = &lt;FreePlan />;
    } else {
      showPlan = &lt;PremiumPlan />;
    }

    const showOverview = () => {
      return (
        &lt;div>
          &lt;div className="row">
            &lt;h1 className="BigHeader">Account overview&lt;/h1>
          &lt;/div>
          &lt;div className="row">
            &lt;h3 className="SmallHeader">Profile&lt;/h3>
          &lt;/div>

          &lt;div>{UserData}&lt;/div>

          &lt;div className="row">
            &lt;div className="col Content1">
              &lt;h5>Country&lt;/h5>
            &lt;/div>
            &lt;div className="col Content2">
              &lt;h5>EG&lt;/h5>
            &lt;/div>
          &lt;/div>
          &lt;hr />
          &lt;div className="row">
            &lt;Button className="EditProfile" color="success">
              &lt;NavLink className="InsideEditProfile" to="/account/edit">
                EDIT PROFILE
              &lt;/NavLink>
            &lt;/Button>
          &lt;/div>
          &lt;div className="row">
            &lt;h3 className="SmallHeader2">Your plan&lt;/h3>
          &lt;/div>
          {showPlan}
          &lt;div className="row">
            &lt;Button onClick={() => {
                        this.handleLogout();
                      }}
                      className="EditProfile" color="success">
              &lt;NavLink className="InsideEditProfile" to="/">
                SIGN OUT
              &lt;/NavLink>
            &lt;/Button>
          &lt;/div>
        &lt;/div>
      );
    };

    return (
      &lt;div>
        {redirect}
        &lt;div className="AccountOverviewNav">
          &lt;div className="container">
            &lt;Navbar className="NavBar NavStyle" sticky="top" expand="md">
              &lt;NavbarBrand className="mr-auto" href="/home">
                &lt;img
                  src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSBmnPgQKW4JLrNcSFhPFCLHz3t8kT1pZl0PVkLYsa8FoScWYda"
                  height="65px"
                  width="200px"
                  alt=""
                />
              &lt;/NavbarBrand>
              &lt;NavbarToggler
                className="NavBarToggle"
                onClick={this.state.toggleNav}
              >
                ☰
              &lt;/NavbarToggler>
              &lt;Collapse isOpen={this.state.isNavOpen} navbar>
                &lt;Nav navbar className="ml-auto">
                  &lt;NavItem>
                    &lt;NavLink className="nav-link" to="/premium">
                      Premium
                    &lt;/NavLink>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;NavLink className="nav-link" to="/home">
                      Help
                    &lt;/NavLink>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;NavLink className="nav-link" to="/home">
                      Download
                    &lt;/NavLink>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;span className="nav-link HorizontalLine">──&lt;/span>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;NavLink
                      className="nav-link AccountWhenCollapsed"
                      to="/account/overview"
                    >
                      Account
                    &lt;/NavLink>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;Button
                      onClick={() => {
                        this.handleLogout();
                      }}
                      className="nav-link LogoutWhenCollapsed"
                    >
                      Log out
                    &lt;/Button>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;NavLink className="ImageWhenCollapsed" to="/home">
                      &lt;img
                        src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSBmnPgQKW4JLrNcSFhPFCLHz3t8kT1pZl0PVkLYsa8FoScWYda"
                        height="25px"
                        width="70px"
                        alt=""
                      />
                    &lt;/NavLink>
                  &lt;/NavItem>
                  &lt;NavItem>
                    &lt;UncontrolledDropdown
                      nav
                      inNavbar
                      className="AccountOverviewDropDown"
                    >
                      &lt;DropdownToggle nav caret className="seperator">
                        &lt;img
                          alt=""
                          className="Profile"
                          src="https://4.bp.blogspot.com/_R0Rc6mb8H6E/S1TTZJCtq8I/AAAAAAAAC9A/a50aYOK5o0o/s320/design-fetish-no-photo-facebook-1.jpg"
                        />
                        Profile
                      &lt;/DropdownToggle>
                      &lt;DropdownMenu className="StaticNav" right>
                        &lt;DropdownItem className="StaticNavChildContainer">
                          &lt;NavLink
                            className="StaticNavChild1"
                            to="/account/overview"
                          >
                            Account
                          &lt;/NavLink>
                        &lt;/DropdownItem>
                        &lt;DropdownItem className="StaticNavChildContainer">
                          &lt;Button
                            onClick={() => {
                              this.handleLogout();
                            }}
                            className="StaticNavChild2"
                          >
                            Log out
                          &lt;/Button>
                        &lt;/DropdownItem>
                      &lt;/DropdownMenu>
                    &lt;/UncontrolledDropdown>
                  &lt;/NavItem>
                &lt;/Nav>
              &lt;/Collapse>
            &lt;/Navbar>
          &lt;/div>
        &lt;/div>
        &lt;div className="AccountOverviewBody">
          {showJumbotron}
          &lt;div className="container InfoContainer">
            &lt;div className="row InfoContainerRow">
              &lt;div className="col-sm-12 col-md-12 col-lg-4 Linkers">
                &lt;div className="sidebar">
                  &lt;Link className="AppearBig">
                    &lt;i className="fa fa-snapchat-ghost" aria-hidden="true" />
                  &lt;/Link>
                  &lt;Link to="/account/overview" className={overviewActive}>
                    &lt;i className="fa fa-home" />
                    Account overview
                  &lt;/Link>
                  &lt;Link to="/account/edit" className={editProfileActive}>
                    &lt;i className="fa fa-edit" />
                    Edit profile
                  &lt;/Link>
                  &lt;Link
                    to="/account/changepassword"
                    className={changePasswordActive}
                  >
                    &lt;i className="fa fa-lock" />
                    Change password
                  &lt;/Link>
                  &lt;Link to="/" className={recoverPlaylistsActive}>
                    &lt;i className="fa fa-hashtag" />
                    Recover playlists
                  &lt;/Link>
                  &lt;Link to="/" className={redeemActive}>
                    &lt;i className="fa fa-credit-card" />
                    Redeem
                  &lt;/Link>
                &lt;/div>
              &lt;/div>
              &lt;div className="col-sm-12 col-md-12 col-lg-8 Content EditProfileContentAswell">
                &lt;Switch>
                  &lt;Route path="/account/overview" component={showOverview} />
                  &lt;Route
                    path="/account/changepassword"
                    component={() => (
                      &lt;ChangePass
                        resetChangePasswordForm={
                          this.props.resetChangePasswordForm
                        }
                        PostPassword={this.props.PostPassword}
                        GetPassword={this.props.GetPassword}
                        data={this.props.data}
                        id={this.props.id}
                        data_be={this.props.data_be}
                      />
                    )}
                  />
                  &lt;Route
                    path="/account/edit"
                    component={() => (
                      &lt;EditProfile
                        postupdatedFeedback={this.props.postupdatedFeedback}
                        id={this.props.id}
                        data={this.props.data}
                        data_be={this.props.data_be}
                        reseteditprofile={this.props.reseteditprofile}
                      />
                    )}
                  />
                  &lt;Redirect to="/account/overview" />
                &lt;/Switch>
              &lt;/div>
            &lt;/div>
          &lt;/div>
        &lt;/div>
        &lt;div className="AccountOverviewFooter">
          &lt;div className="container">
            &lt;div className="AccountOverviewFooterFirstRow">
              &lt;div className="row justify-content-center">
                &lt;div className="col-sm-12 col-md-12 col-lg-2">
                  &lt;Link to="/home">
                    &lt;img
                      className="logo"
                      src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSBmnPgQKW4JLrNcSFhPFCLHz3t8kT1pZl0PVkLYsa8FoScWYda"
                      alt="Logo"
                    />
                  &lt;/Link>
                &lt;/div>
                &lt;div className="col-sm-12 col-md-4 col-lg-2 LeftAlign">
                  &lt;h5 className="FooterHeader">COMPANY&lt;/h5>
                  &lt;ul>
                    &lt;li>
                      &lt;Link to="/">About&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/">Jobs&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/">For the Record&lt;/Link>
                    &lt;/li>
                  &lt;/ul>
                &lt;/div>
                &lt;div className="col-sm-12 col-md-4 col-lg-2 LeftAlign">
                  &lt;h5 className="FooterHeader">COMMUNITIES&lt;/h5>
                  &lt;ul>
                    &lt;li>
                      &lt;Link to="/">For Artists&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/">Developers&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/">Brands&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/">Investors&lt;/Link>
                    &lt;/li>
                  &lt;/ul>
                &lt;/div>
                &lt;div className="col-sm-12 col-md-4 col-lg-2 LeftAlign">
                  &lt;h5 className="FooterHeader">USEFUL LINKS&lt;/h5>
                  &lt;ul>
                    &lt;li>
                      &lt;Link to="">Help&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="/webplayer/home">Web Player&lt;/Link>
                    &lt;/li>
                    &lt;li>
                      &lt;Link to="">Free Mobile App&lt;/Link>
                    &lt;/li>
                  &lt;/ul>
                &lt;/div>
                &lt;div className="col-sm-12 col-md-12 col-lg-4 icons">
                  &lt;a
                    className="btn btn-social-icon btn-instagram"
                    href="https://www.instagram.com/spotify/?hl=en"
                  >
                    &lt;i className="fa fa-instagram" />
                  &lt;/a>
                  &lt;a
                    className="btn btn-social-icon btn-twitter"
                    href="https://twitter.com/Spotify?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"
                  >
                    &lt;i className="fa fa-twitter" />
                  &lt;/a>
                  &lt;a
                    className="btn btn-social-icon btn-facebook"
                    href="https://www.facebook.com/Spotify/"
                  >
                    &lt;i className="fa fa-facebook" />
                  &lt;/a>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div className="AccountOverviewFooterSecondRow">
              &lt;div className="col-sm-9 col-md-9 linespacing">
                &lt;Link to="/">Legal&lt;/Link>
                &lt;Link to="/">Privacy Center&lt;/Link>
                &lt;Link to="/">Privacy Policy&lt;/Link>
                &lt;Link to="/">Cookies&lt;/Link>
                &lt;Link to="/">About Ads&lt;/Link>
              &lt;/div>
              &lt;div className="col-sm-3 col-md-3">
                &lt;p className="stylesecondrow2">© 2020 Spotify AB&lt;/p>
              &lt;/div>
            &lt;/div>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    );
  }
}

export default AccountOverview;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountOverview.html">AccountOverview</a></li><li><a href="ChangePass.html">ChangePass</a></li><li><a href="EditProfile.html">EditProfile</a></li><li><a href="FreeJumbotron.html">FreeJumbotron</a></li><li><a href="FreePlan.html">FreePlan</a></li><li><a href="Home.html">Home</a></li><li><a href="HomeNavAndContentSigned.html">HomeNavAndContentSigned</a></li><li><a href="NavbarHome.html">NavbarHome</a></li><li><a href="PopularAlbumsHomeAndNavContent.html">PopularAlbumsHomeAndNavContent</a></li><li><a href="PopularArtistsHomeAndNavContent.html">PopularArtistsHomeAndNavContent</a></li><li><a href="PopularNewHomeAndNavContent.html">PopularNewHomeAndNavContent</a></li><li><a href="Premium.html">Premium</a></li><li><a href="PremiumJumbotron.html">PremiumJumbotron</a></li><li><a href="SignIn.html">SignIn</a></li><li><a href="SignUp.html">SignUp</a></li><li><a href="TopNav.html">TopNav</a></li><li><a href="WebPlayer.html">WebPlayer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Footer">Footer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Apr 11 2020 19:57:16 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
